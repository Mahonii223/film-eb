(function(e){function t(t){for(var c,o,s=t[0],i=t[1],l=t[2],b=0,d=[];b<s.length;b++)o=s[b],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],c=!0,s=1;s<n.length;s++){var i=n[s];0!==a[i]&&(c=!1)}c&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var c={},a={app:0},r=[];function o(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=c,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)o.d(n,c,function(t){return e[t]}.bind(null,c));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=i;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0803":function(e,t,n){},"32e8":function(e,t,n){},"5c56":function(e,t,n){"use strict";n("32e8")},8025:function(e,t,n){"use strict";n("0803")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),a={key:0},r={key:1};function o(e,t,n,o,s,i){var l=Object(c["s"])("navbar"),u=Object(c["s"])("join"),b=Object(c["s"])("MainPanel");return Object(c["m"])(),Object(c["e"])(c["a"],null,[Object(c["h"])(l),""==e.store.state.loggedIn?(Object(c["m"])(),Object(c["e"])("div",a,[Object(c["h"])(u)])):(Object(c["m"])(),Object(c["e"])("div",r,[Object(c["h"])(b)]))],64)}var s=n("d4ec"),i=n("262e"),l=n("2caf"),u=n("9ab4"),b=n("ce1f"),d=function(e){return Object(c["p"])("data-v-2eff0bd8"),e=e(),Object(c["n"])(),e},j={class:"navbar",role:"navigation","aria-label":"main navigation"},O=d((function(){return Object(c["f"])("div",{class:"navbar-brand"},[Object(c["f"])("a",{class:"navbar-item",href:"/"},[Object(c["f"])("span",{class:"title app-name"},"Filmłebendczil")])],-1)})),f={class:"navbar-menu"},p=d((function(){return Object(c["f"])("div",{class:"navbar-start"},null,-1)})),v={class:"navbar-end"},h={class:"navbar-item"},m={key:0,class:"buttons"},g={key:1,class:"buttons"},y={class:"tag is-large mr-1 mb-2"};function k(e,t,n,a,r,o){return Object(c["m"])(),Object(c["e"])("nav",j,[O,Object(c["f"])("div",f,[p,Object(c["f"])("div",v,[Object(c["f"])("div",h,[""==e.store.state.loggedIn?(Object(c["m"])(),Object(c["e"])("div",m)):(Object(c["m"])(),Object(c["e"])("div",g,[Object(c["f"])("div",y,Object(c["t"])(e.store.state.loggedIn),1),Object(c["f"])("button",{onClick:t[0]||(t[0]=function(){return e.logOutClicked&&e.logOutClicked.apply(e,arguments)}),class:"button is-primary"}," Wyloguj ")]))])])])])}var w=n("bee2"),R=n("ad3d"),x=(n("ac1f"),n("841c"),n("a1e9")),M={debug:!0,state:Object(x["k"])({loggedIn:"",token:"",recommended:Array(),apiUrl:"http://localhost",search:Array()}),setToken:function(e){this.state.token=e},setLoggedIn:function(e){this.debug&&console.log("setLoggedIn triggered with",e),this.state.loggedIn=e},setRecommended:function(e){this.state.recommended=e},setSearchResults:function(e){this.state.search=e},clear:function(){this.state.loggedIn="",this.state.token="",this.state.search=[],this.state.recommended=[]}},C=function(e){Object(i["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.store=M,e}return Object(w["a"])(n,[{key:"logInClicked",value:function(){M.setLoggedIn("Karol K")}},{key:"logOutClicked",value:function(){M.clear()}}]),n}(b["b"]);C=Object(u["a"])([Object(b["a"])({components:{FontAwesomeIcon:R["a"]},props:{}})],C);var I=C,S=(n("5c56"),n("6b0d")),P=n.n(S);const z=P()(I,[["render",k],["__scopeId","data-v-2eff0bd8"]]);var _=z,U={class:"section"},L=Object(c["g"])('<div class="join card"><div class="card-content"><div class="container"><h1 class="title has-text-centered">Rekomendacja filmów</h1><h4 class="title has-text-centered"> Kliknij poniżej aby zalogować się używając konta Google </h4><div class="buttons is-centered"><div id="gSignup"></div></div></div></div></div>',1),T=[L];function A(e,t,n,a,r,o){return Object(c["m"])(),Object(c["e"])("div",U,T)}var B=n("1da1"),E=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("25f0"),n("b0c0"),function(e){Object(i["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.store=M,e}return Object(w["a"])(n,[{key:"joinClicked",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t){var n,c,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,n=this.store.state.apiUrl,c=new URL("/join",n),e.next=6,fetch(c.toString(),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.credential)}});case 6:if(a=e.sent,a.ok){e.next=13;break}return e.t0=Error,e.next=11,a.text();case 11:throw e.t1=e.sent,new e.t0(e.t1);case 13:return e.next=15,a.json();case 15:r=e.sent,M.setToken(t.credential),M.setLoggedIn(r.name),e.next=23;break;case 20:e.prev=20,e.t2=e["catch"](1),console.log(e.t2);case 23:case"end":return e.stop()}}),e,this,[[1,20]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){google.accounts.id.initialize({client_id:"405815393608-333ae8if6up2dn84je64ph76d5c211d2.apps.googleusercontent.com",callback:this.joinClicked}),google.accounts.id.renderButton(document.getElementById("gSignup"),{theme:"outline",size:"large"}),google.accounts.id.prompt()}}]),n}(b["b"]));E=Object(u["a"])([Object(b["a"])({components:{},props:{}})],E);var J=E;const K=P()(J,[["render",A]]);var W=K,F=(n("a4d3"),n("e01a"),{class:"section content"}),G={class:"columns movies"},N={class:"column"},V={class:"search card"},Z=Object(c["f"])("header",{class:"card-header"},[Object(c["f"])("p",{class:"card-header-title"},"Wyszukaj film")],-1),q={class:"card-content"},D={class:"field is-grouped"},H={class:"control is-expanded"},Q={class:"control"},X={class:"column"},Y={class:"recommend card"},$=Object(c["f"])("div",{class:"card-header"},[Object(c["f"])("p",{class:"card-header-title"},"Rekomendacje")],-1),ee={class:"card-content"},te=Object(c["f"])("div",{class:"modal-background"},null,-1),ne={class:"modal-card"},ce={class:"modal-card-head"},ae=Object(c["f"])("h2",{class:"modal-card-title"},"Oceń film",-1),re={key:0,class:"modal-card-body"},oe=Object(c["g"])('<h4>Ocena</h4><div class="buttons has-addons is-centered"><button class="button">1</button><button class="button">2</button><button class="button">3</button><button class="button">4</button><button class="button">5</button></div>',2),se={class:"modal-card-foot"},ie=Object(c["f"])("button",{class:"button is-success"},"Zapisz",-1);function le(e,t,n,a,r,o){var s=Object(c["s"])("MovieCard");return Object(c["m"])(),Object(c["e"])("div",F,[Object(c["f"])("div",G,[Object(c["f"])("div",N,[Object(c["f"])("div",V,[Z,Object(c["f"])("div",q,[Object(c["f"])("div",D,[Object(c["f"])("p",H,[Object(c["w"])(Object(c["f"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.phrase=t}),class:"input",type:"text",placeholder:"Wpisz tytuł"},null,512),[[c["u"],e.phrase]])]),Object(c["f"])("p",Q,[Object(c["f"])("button",{onClick:t[1]||(t[1]=function(){return e.search&&e.search.apply(e,arguments)}),class:"button is-primary"}," Szukaj ")])]),(Object(c["m"])(!0),Object(c["e"])(c["a"],null,Object(c["r"])(e.store.state.search,(function(t){return Object(c["m"])(),Object(c["e"])("div",{key:t.title},[Object(c["h"])(s,{record:t,onRateMovie:e.showRateModal},null,8,["record","onRateMovie"])])})),128))])])]),Object(c["f"])("div",X,[Object(c["f"])("div",Y,[$,Object(c["f"])("div",ee,[(Object(c["m"])(!0),Object(c["e"])(c["a"],null,Object(c["r"])(e.store.state.recommended,(function(t){return Object(c["m"])(),Object(c["e"])("div",{key:t.title},[Object(c["h"])(s,{record:t,onRateMovie:e.showRateModal},null,8,["record","onRateMovie"])])})),128))])])])]),Object(c["f"])("div",{class:Object(c["l"])(["modal",{"is-active":e.rateOpen}])},[te,Object(c["f"])("div",ne,[Object(c["f"])("header",ce,[ae,Object(c["f"])("button",{class:"delete","aria-label":"close",onClick:t[2]||(t[2]=function(){return e.closeRateModal&&e.closeRateModal.apply(e,arguments)})})]),e.rated?(Object(c["m"])(),Object(c["e"])("section",re,[Object(c["f"])("h3",null,"Tytuł: "+Object(c["t"])(e.rated.title),1),Object(c["f"])("h4",null,"Reżyseria: "+Object(c["t"])(e.rated.director),1),Object(c["f"])("p",null,"Opis: "+Object(c["t"])(e.rated.description),1),oe])):Object(c["d"])("",!0),Object(c["f"])("footer",se,[ie,Object(c["f"])("button",{class:"button",onClick:t[3]||(t[3]=function(){return e.closeRateModal&&e.closeRateModal.apply(e,arguments)})},"Anuluj")])])],2)])}var ue={class:"card"},be={class:"card-content"},de={class:"content columns"},je={class:"column"},Oe={class:"column is-one-fifth is-flex"},fe={class:"buttons is-centered"},pe=Object(c["f"])("br",null,null,-1);function ve(e,t,n,a,r,o){return Object(c["m"])(),Object(c["e"])(c["a"],null,[Object(c["f"])("div",ue,[Object(c["f"])("div",be,[Object(c["f"])("div",de,[Object(c["f"])("div",je,[Object(c["f"])("h3",null,Object(c["t"])(e.record.title),1),Object(c["f"])("h4",null,"Reżyseria: "+Object(c["t"])(e.record.director),1),Object(c["f"])("p",null,"Rok: "+Object(c["t"])(e.record.year),1),Object(c["f"])("p",null,Object(c["t"])(e.record.description),1)]),Object(c["f"])("div",Oe,[Object(c["f"])("div",fe,[Object(c["f"])("button",{class:"button",onClick:t[0]||(t[0]=function(){return e.rateMovie&&e.rateMovie.apply(e,arguments)})},"Oceń")])])])])]),pe],64)}var he=n("1b40"),me=function(e){Object(i["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return Object(w["a"])(n,[{key:"rateMovie",value:function(){return this.record}}]),n}(b["b"]);Object(u["a"])([Object(he["b"])()],me.prototype,"record",void 0),Object(u["a"])([Object(he["a"])()],me.prototype,"rateMovie",null),me=Object(u["a"])([Object(b["a"])({components:{}})],me);var ge=me;const ye=P()(ge,[["render",ve]]);var ke=ye,we=function(e){Object(i["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.store=M,e.phrase="",e.rateOpen=!1,e.rated=null,e}return Object(w["a"])(n,[{key:"mounted",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){var t,n,c,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=this.store.state.apiUrl,n=this.store.state.token,c=new URL("/recommended",t),e.next=6,fetch(c.toString(),{headers:{Authorization:"Bearer ".concat(n)}});case 6:if(a=e.sent,a.ok){e.next=13;break}return e.t0=Error,e.next=11,a.text();case 11:throw e.t1=e.sent,new e.t0(e.t1);case 13:return e.t2=this.store,e.next=16,a.json();case 16:e.t3=e.sent,e.t2.setRecommended.call(e.t2,e.t3),e.next=23;break;case 20:e.prev=20,e.t4=e["catch"](0),console.log(e.t4);case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"search",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){var t,n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=this.store.state.apiUrl,n=new URL("/search",t),n.searchParams.append("searchPhrase",this.phrase),e.next=6,fetch(n.toString());case 6:return c=e.sent,e.t0=this.store,e.next=10,c.json();case 10:e.t1=e.sent,e.t0.setSearchResults.call(e.t0,e.t1),e.next=17;break;case 14:e.prev=14,e.t2=e["catch"](0),console.log(e.t2);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"showRateModal",value:function(e){this.rated=e,this.rateOpen=!0}},{key:"closeRateModal",value:function(){this.rated=null,this.rateOpen=!1}}]),n}(b["b"]);we=Object(u["a"])([Object(b["a"])({components:{MovieCard:ke},props:{}})],we);var Re=we;const xe=P()(Re,[["render",le]]);var Me=xe,Ce=function(e){Object(i["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.store=M,e}return n}(b["b"]);Ce=Object(u["a"])([Object(b["a"])({components:{Navbar:_,Join:W,MainPanel:Me}})],Ce);var Ie=Ce;n("8025");const Se=P()(Ie,[["render",o]]);var Pe=Se,ze=n("ecee"),_e=n("c074");ze["c"].add(_e["a"],_e["b"],_e["d"],_e["c"],_e["e"]),Object(c["c"])(Pe).mount("#app")}});
//# sourceMappingURL=app.291c6ead.js.map