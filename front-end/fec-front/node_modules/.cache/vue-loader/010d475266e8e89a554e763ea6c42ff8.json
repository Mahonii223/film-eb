{"remainingRequest":"C:\\Users\\karol\\Desktop\\test\\fec-front\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\karol\\Desktop\\test\\fec-front\\src\\components\\Join.vue?vue&type=template&id=26f9c366&ts=true","dependencies":[{"path":"C:\\Users\\karol\\Desktop\\test\\fec-front\\src\\components\\Join.vue","mtime":1641518155914},{"path":"C:\\Users\\karol\\Desktop\\test\\fec-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\karol\\Desktop\\test\\fec-front\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\karol\\Desktop\\test\\fec-front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\karol\\Desktop\\test\\fec-front\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\karol\\Desktop\\test\\fec-front\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\karol\\Desktop\\test\\fec-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\karol\\Desktop\\test\\fec-front\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+CiAgICA8ZGl2IGNsYXNzPSJqb2luIGNhcmQiPgogICAgICA8ZGl2IGNsYXNzPSJjYXJkLWNvbnRlbnQiPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CiAgICAgICAgICA8aDEgY2xhc3M9InRpdGxlIGhhcy10ZXh0LWNlbnRlcmVkIj5SZWtvbWVuZGFjamEgZmlsbcOzdzwvaDE+CiAgICAgICAgICA8aDQgY2xhc3M9InRpdGxlIGhhcy10ZXh0LWNlbnRlcmVkIj4KICAgICAgICAgICAgS2xpa25paiBwb25pxbxlaiBhYnkgemFsb2dvd2HEhyBzacSZIHXFvHl3YWrEhWMga29udGEgR29vZ2xlCiAgICAgICAgICA8L2g0PgogICAgICAgICAgPGRpdiBjbGFzcz0iYnV0dG9ucyBpcy1jZW50ZXJlZCI+CiAgICAgICAgICAgIDxkaXYgaWQ9ImdTaWdudXAiPjwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["C:\\Users\\karol\\Desktop\\test\\fec-front\\src\\components\\Join.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACpB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACpB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC3D,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;UACxD,CAAC,CAAC,CAAC,CAAC;UACJ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACzB,CAAC,CAAC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/karol/Desktop/test/fec-front/src/components/Join.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"section\">\n    <div class=\"join card\">\n      <div class=\"card-content\">\n        <div class=\"container\">\n          <h1 class=\"title has-text-centered\">Rekomendacja filmów</h1>\n          <h4 class=\"title has-text-centered\">\n            Kliknij poniżej aby zalogować się używając konta Google\n          </h4>\n          <div class=\"buttons is-centered\">\n            <div id=\"gSignup\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from \"vue-class-component\";\nimport { store } from \"@/store\";\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ndeclare const google: any;\n\ninterface SignIn {\n  clientId: string;\n  credential: string;\n  select_by: string;\n}\n\n@Options({\n  components: {},\n  props: {},\n})\nexport default class Welcome extends Vue {\n  store = store;\n  async joinClicked(response: SignIn): Promise<void> {\n    console.log(response);\n    try {\n      let base = this.store.state.apiUrl;\n      const url = new URL(\"/join\", base);\n\n      const verified = await fetch(url.toString(), {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${response.credential}`,\n        },\n      });\n      if (!verified.ok) {\n        throw new Error(await verified.text());\n      }\n\n      const user = await verified.json();\n\n      store.setToken(response.credential);\n      store.setLoggedIn(user.name);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n  mounted(): void {\n    google.accounts.id.initialize({\n      client_id:\n        \"405815393608-333ae8if6up2dn84je64ph76d5c211d2.apps.googleusercontent.com\",\n      callback: this.joinClicked,\n    });\n    google.accounts.id.renderButton(\n      document.getElementById(\"gSignup\"),\n      { theme: \"outline\", size: \"large\" } // customization attributes\n    );\n    google.accounts.id.prompt(); // also display the One Tap dialog\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped></style>\n"]}]}