{"remainingRequest":"C:\\Users\\marci\\Documents\\Webapps\\front-end\\fec-front\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\marci\\Documents\\Webapps\\front-end\\fec-front\\src\\components\\Join.vue?vue&type=template&id=26f9c366&ts=true","dependencies":[{"path":"C:\\Users\\marci\\Documents\\Webapps\\front-end\\fec-front\\src\\components\\Join.vue","mtime":1641557238818},{"path":"C:\\Users\\marci\\Documents\\Webapps\\front-end\\fec-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\marci\\Documents\\Webapps\\front-end\\fec-front\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\marci\\Documents\\Webapps\\front-end\\fec-front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\marci\\Documents\\Webapps\\front-end\\fec-front\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\marci\\Documents\\Webapps\\front-end\\fec-front\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\marci\\Documents\\Webapps\\front-end\\fec-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\marci\\Documents\\Webapps\\front-end\\fec-front\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxkaXYgY2xhc3M9InNlY3Rpb24iPg0KICAgIDxkaXYgY2xhc3M9ImpvaW4gY2FyZCI+DQogICAgICA8ZGl2IGNsYXNzPSJjYXJkLWNvbnRlbnQiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPg0KICAgICAgICAgIDxoMSBjbGFzcz0idGl0bGUgaGFzLXRleHQtY2VudGVyZWQiPlJla29tZW5kYWNqYSBmaWxtw7N3PC9oMT4NCiAgICAgICAgICA8aDQgY2xhc3M9InRpdGxlIGhhcy10ZXh0LWNlbnRlcmVkIj4NCiAgICAgICAgICAgIEtsaWtuaWogcG9uacW8ZWogYWJ5IHphbG9nb3dhxIcgc2nEmSB1xbx5d2FqxIVjIGtvbnRhIEdvb2dsZQ0KICAgICAgICAgIDwvaDQ+DQogICAgICAgICAgPGRpdiBjbGFzcz0iYnV0dG9ucyBpcy1jZW50ZXJlZCI+DQogICAgICAgICAgICA8ZGl2IGlkPSJnU2lnbnVwIj48L2Rpdj4NCiAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCiAgPC9kaXY+DQo="},{"version":3,"sources":["C:\\Users\\marci\\Documents\\Webapps\\front-end\\fec-front\\src\\components\\Join.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACpB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACpB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC3D,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;UACxD,CAAC,CAAC,CAAC,CAAC;UACJ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACzB,CAAC,CAAC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/marci/Documents/Webapps/front-end/fec-front/src/components/Join.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"section\">\r\n    <div class=\"join card\">\r\n      <div class=\"card-content\">\r\n        <div class=\"container\">\r\n          <h1 class=\"title has-text-centered\">Rekomendacja filmów</h1>\r\n          <h4 class=\"title has-text-centered\">\r\n            Kliknij poniżej aby zalogować się używając konta Google\r\n          </h4>\r\n          <div class=\"buttons is-centered\">\r\n            <div id=\"gSignup\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from \"vue-class-component\";\r\nimport { store } from \"@/store\";\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\ndeclare const google: any;\r\n\r\ninterface SignIn {\r\n  clientId: string;\r\n  credential: string;\r\n  select_by: string;\r\n}\r\n\r\n@Options({\r\n  components: {},\r\n  props: {},\r\n})\r\nexport default class Welcome extends Vue {\r\n  store = store;\r\n  async joinClicked(response: SignIn): Promise<void> {\r\n    console.log(response);\r\n    try {\r\n      let base = this.store.state.apiUrl;\r\n      const url = new URL(\"/join\", base);\r\n\r\n      const verified = await fetch(url.toString(), {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${response.credential}`,\r\n        },\r\n      });\r\n      if (!verified.ok) {\r\n        throw new Error(await verified.text());\r\n      }\r\n\r\n      const user = await verified.json();\r\n\r\n      store.setToken(response.credential);\r\n      store.setLoggedIn(user.name);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n  mounted(): void {\r\n    google.accounts.id.initialize({\r\n      client_id:\r\n        \"405815393608-333ae8if6up2dn84je64ph76d5c211d2.apps.googleusercontent.com\",\r\n      callback: this.joinClicked,\r\n    });\r\n    google.accounts.id.renderButton(\r\n      document.getElementById(\"gSignup\"),\r\n      { theme: \"outline\", size: \"large\" } // customization attributes\r\n    );\r\n    google.accounts.id.prompt(); // also display the One Tap dialog\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped></style>\r\n"]}]}